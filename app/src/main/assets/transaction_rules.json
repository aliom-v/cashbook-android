{
  "version": "1.2.0",
  "updateTime": "2025-12-07",
  "description": "自动记账规则配置文件 - 支持热更新，添加排除关键词防止误触发",
  "apps": [
    {
      "packageName": "com.tencent.mm",
      "name": "微信",
      "rules": [
        {
          "type": "expense",
          "triggerKeywords": ["支付成功", "付款成功", "已付款", "已支付"],
          "excludeKeywords": ["确认付款", "立即支付", "确认支付", "输入密码", "待支付", "去支付", "支付方式", "付款方式", "请输入"],
          "amountRegex": [
            "￥\\s*([0-9,]+(?:\\.[0-9]{1,2})?)",
            "¥\\s*([0-9,]+(?:\\.[0-9]{1,2})?)",
            "([0-9,]+(?:\\.[0-9]{1,2})?)\\s*元"
          ],
          "merchantRegex": [
            "收款方[：:]\\s*(.+)",
            "商户名称[：:]\\s*(.+)"
          ],
          "category": "微信支付",
          "priority": 10
        },
        {
          "type": "expense",
          "triggerKeywords": [
            "红包发送成功", "红包已发送", "发出红包", "发了一个红包",
            "已发送", "发送成功", "红包已塞好", "已塞钱", "塞好了",
            "发红包成功", "红包已发出", "发出了红包", "红包发出成功"
          ],
          "excludeKeywords": ["选择红包个数", "请填写金额", "塞钱进红包", "添加表情"],
          "amountRegex": [
            "￥\\s*([0-9,]+(?:\\.[0-9]{1,2})?)",
            "¥\\s*([0-9,]+(?:\\.[0-9]{1,2})?)",
            "共\\s*([0-9,]+(?:\\.[0-9]{1,2})?)\\s*元",
            "([0-9,]+(?:\\.[0-9]{1,2})?)\\s*元"
          ],
          "merchantRegex": [],
          "category": "红包",
          "priority": 25
        },
        {
          "type": "expense",
          "triggerKeywords": ["转账成功", "已转账", "转账已发出"],
          "excludeKeywords": ["确认转账", "转账给朋友", "输入金额", "转账说明", "转账到"],
          "amountRegex": [
            "￥\\s*([0-9,]+(?:\\.[0-9]{1,2})?)",
            "¥\\s*([0-9,]+(?:\\.[0-9]{1,2})?)",
            "金额[：:]\\s*([0-9,]+(?:\\.[0-9]{1,2})?)"
          ],
          "merchantRegex": [
            "转账给\\s*(.+)",
            "收款人[：:]\\s*(.+)"
          ],
          "category": "转账",
          "priority": 15
        },
        {
          "type": "income",
          "triggerKeywords": ["已收钱", "收款成功", "收到转账", "向你转账", "已收款", "转账已收", "收钱成功", "到账成功", "已到账"],
          "excludeKeywords": [],
          "amountRegex": [
            "￥\\s*([0-9,]+(?:\\.[0-9]{1,2})?)",
            "¥\\s*([0-9,]+(?:\\.[0-9]{1,2})?)",
            "金额[：:]\\s*([0-9,]+(?:\\.[0-9]{1,2})?)"
          ],
          "merchantRegex": [
            "(.+)\\s*向你转账",
            "付款方[：:]\\s*(.+)"
          ],
          "category": "转账",
          "priority": 15
        },
        {
          "type": "income",
          "triggerKeywords": ["已领取", "领取了", "红包已存入", "红包到账", "已存入零钱", "收到红包", "存入零钱"],
          "excludeKeywords": ["点击领取", "立即领取", "开红包"],
          "amountRegex": [
            "￥\\s*([0-9,]+(?:\\.[0-9]{1,2})?)",
            "¥\\s*([0-9,]+(?:\\.[0-9]{1,2})?)",
            "([0-9,]+(?:\\.[0-9]{1,2})?)\\s*元"
          ],
          "merchantRegex": [
            "(.+)的红包",
            "来自\\s*(.+)"
          ],
          "category": "红包",
          "priority": 20
        }
      ]
    },
    {
      "packageName": "com.eg.android.AlipayGphone",
      "name": "支付宝",
      "rules": [
        {
          "type": "expense",
          "triggerKeywords": ["支付成功", "付款成功", "交易成功"],
          "excludeKeywords": ["确认付款", "立即付款", "确认支付", "输入密码", "待支付", "去付款"],
          "amountRegex": [
            "￥\\s*([0-9,]+(?:\\.[0-9]{1,2})?)",
            "([0-9,]+(?:\\.[0-9]{1,2})?)\\s*元",
            "金额[：:]\\s*([0-9,]+(?:\\.[0-9]{1,2})?)"
          ],
          "merchantRegex": [
            "收款方[：:]\\s*(.+)",
            "商家[：:]\\s*(.+)"
          ],
          "category": "支付宝支付",
          "priority": 10
        },
        {
          "type": "expense",
          "triggerKeywords": ["转账成功", "转账已完成"],
          "excludeKeywords": ["确认转账", "输入金额"],
          "amountRegex": [
            "￥\\s*([0-9,]+(?:\\.[0-9]{1,2})?)",
            "金额[：:]\\s*([0-9,]+(?:\\.[0-9]{1,2})?)"
          ],
          "merchantRegex": [
            "收款方[：:]\\s*(.+)"
          ],
          "category": "转账",
          "priority": 15
        },
        {
          "type": "expense",
          "triggerKeywords": ["红包已发送", "红包发送成功", "发送成功", "已发送", "口令红包已创建"],
          "excludeKeywords": ["填写金额", "红包个数", "选择红包", "口令红包"],
          "amountRegex": [
            "￥\\s*([0-9,]+(?:\\.[0-9]{1,2})?)",
            "([0-9,]+(?:\\.[0-9]{1,2})?)\\s*元"
          ],
          "merchantRegex": [],
          "category": "红包",
          "priority": 25
        },
        {
          "type": "income",
          "triggerKeywords": ["收款成功", "已到账", "收款到账", "到账成功", "收到转账"],
          "excludeKeywords": [],
          "amountRegex": [
            "￥\\s*([0-9,]+(?:\\.[0-9]{1,2})?)",
            "金额[：:]\\s*([0-9,]+(?:\\.[0-9]{1,2})?)"
          ],
          "merchantRegex": [
            "付款方[：:]\\s*(.+)"
          ],
          "category": "支付宝收款",
          "priority": 15
        },
        {
          "type": "income",
          "triggerKeywords": ["红包到账", "红包已存入", "领取成功", "已领取", "已存入余额", "存入余额", "红包已领取"],
          "excludeKeywords": ["点击领取", "立即领取", "开红包", "拆红包"],
          "amountRegex": [
            "￥\\s*([0-9,]+(?:\\.[0-9]{1,2})?)",
            "([0-9,]+(?:\\.[0-9]{1,2})?)\\s*元"
          ],
          "merchantRegex": [
            "(.+)的红包",
            "来自(.+)"
          ],
          "category": "红包",
          "priority": 20
        }
      ]
    },
    {
      "packageName": "com.unionpay",
      "name": "云闪付",
      "rules": [
        {
          "type": "expense",
          "triggerKeywords": ["支付成功", "交易成功", "付款成功"],
          "excludeKeywords": ["确认付款", "立即支付", "输入密码", "待支付"],
          "amountRegex": [
            "￥\\s*([0-9,]+(?:\\.[0-9]{1,2})?)",
            "([0-9,]+(?:\\.[0-9]{1,2})?)\\s*元",
            "金额[：:]\\s*([0-9,]+(?:\\.[0-9]{1,2})?)"
          ],
          "merchantRegex": [
            "商户[：:]\\s*(.+)",
            "收款方[：:]\\s*(.+)"
          ],
          "category": "云闪付支付",
          "priority": 10
        },
        {
          "type": "expense",
          "triggerKeywords": ["转账成功", "转账已完成", "已转账"],
          "excludeKeywords": ["确认转账", "输入金额"],
          "amountRegex": [
            "￥\\s*([0-9,]+(?:\\.[0-9]{1,2})?)",
            "金额[：:]\\s*([0-9,]+(?:\\.[0-9]{1,2})?)"
          ],
          "merchantRegex": [
            "收款方[：:]\\s*(.+)"
          ],
          "category": "转账",
          "priority": 15
        },
        {
          "type": "expense",
          "triggerKeywords": ["红包已发送", "红包发送成功", "发送成功"],
          "excludeKeywords": ["填写金额", "红包个数"],
          "amountRegex": [
            "￥\\s*([0-9,]+(?:\\.[0-9]{1,2})?)",
            "([0-9,]+(?:\\.[0-9]{1,2})?)\\s*元"
          ],
          "merchantRegex": [],
          "category": "红包",
          "priority": 25
        },
        {
          "type": "income",
          "triggerKeywords": ["收款成功", "到账成功", "已到账", "收到转账"],
          "excludeKeywords": [],
          "amountRegex": [
            "￥\\s*([0-9,]+(?:\\.[0-9]{1,2})?)",
            "金额[：:]\\s*([0-9,]+(?:\\.[0-9]{1,2})?)"
          ],
          "merchantRegex": [],
          "category": "云闪付收款",
          "priority": 10
        },
        {
          "type": "income",
          "triggerKeywords": ["红包到账", "红包已存入", "领取成功", "已领取"],
          "excludeKeywords": ["点击领取", "立即领取"],
          "amountRegex": [
            "￥\\s*([0-9,]+(?:\\.[0-9]{1,2})?)",
            "([0-9,]+(?:\\.[0-9]{1,2})?)\\s*元"
          ],
          "merchantRegex": [],
          "category": "红包",
          "priority": 20
        }
      ]
    }
  ],
  "commonPatterns": {
    "excludePatterns": [
      "^\\d{1,2}[:.:]\\d{2}$"
    ],
    "maxAmount": 10000,
    "minAmount": 0.01
  }
}
